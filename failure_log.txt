============================= test session starts =============================
platform win32 -- Python 3.12.12, pytest-9.0.2, pluggy-1.5.0 -- C:\ProgramData\miniconda3\python.exe
cachedir: .pytest_cache
rootdir: C:\Users\riley\Desktop\The Thing
plugins: anyio-4.12.0
collecting ... collected 1 item

tests/test_rng_determinism.py::TestRNGDeterminism::test_end_to_end_determinism FAILED [100%]

================================== FAILURES ===================================
_______________ TestRNGDeterminism.test_end_to_end_determinism ________________

self = <test_rng_determinism.TestRNGDeterminism object at 0x00000155E7044F50>

    def test_end_to_end_determinism(self):
        seed = 99999
    
        # Run 1
        game1 = GameState(seed=seed, difficulty=Difficulty.NORMAL)
        self._run_game_script(game1)
        state1 = self._capture_state_snapshot(game1)
    
        # Run 2
        game2 = GameState(seed=seed, difficulty=Difficulty.NORMAL)
        self._run_game_script(game2)
        state2 = self._capture_state_snapshot(game2)
    
        # Assertions
>       assert state1 == state2, "Game states diverged despite identical seeds!"
E       AssertionError: Game states diverged despite identical seeds!
E       assert {'crew_health..._howl')], ...} == {'crew_health...ory': [], ...}
E         
E         Omitting 3 identical items, use -vv to show
E         Differing items:
E         {'event_history': [(5, 'dogs_howl')]} != {'event_history': []}
E         {'paranoia': 8} != {'paranoia': 12}
E         {'weather': {'storm_intensity': 32, 'temp': -32, 'wind_direction': 'northwest'}} != {'weather': {'storm_intensity': 75, 'temp': -42, 'wind_direction': 'northeast'}}
E         {'crew_positions': {'Bennings': (5, 5), 'Blair': (5, 5), 'Childs': (5, 5), 'Clark': (5, 5), ...}} != {'crew_positions': {'Bennings': (5, 5), 'Blair': (5, 5), 'Childs': (5, 5), 'Clark': (5, 5), ...}}...
E         
E         ...Full output truncated (121 lines hidden), use '-vv' to show

tests\test_rng_determinism.py:31: AssertionError
---------------------------- Captured stdout call -----------------------------
[5m[38;5;214m[!] [STEALTH] Fuchs spots you in the Rec Room![0m
[38;5;214mFuchs is now actively searching for you![0m
[5m[38;5;214m[!] Fuchs spots you in Rec Room![0m
Game saved to data/saves\autosave.json
[38;5;214m
[2m[EVENT: Dogs Howling][0m[0m
[38;5;214mThe remaining dogs begin howling in unison. Something has them spooked.[0m
Game saved to data/saves\autosave.json
[5m[38;5;214m[!] [STEALTH] Fuchs spots you in the Rec Room![0m
[5m[38;5;214m[!] [STEALTH] Fuchs spots you in the Rec Room![0m
[38;5;214mFuchs is now actively searching for you![0m
[38;5;214mFuchs is now actively searching for you![0m
[38;5;214mFuchs is now actively searching for you![0m
[38;5;214mFuchs is now actively searching for you![0m
[5m[38;5;214m[!] Fuchs spots you in Rec Room![0m
[5m[38;5;214m[!] Fuchs spots you in Rec Room![0m
[38;5;214m
[2m[EVENT: Sudden Blizzard][0m[0m
[38;5;214m
[2m[EVENT: Sudden Blizzard][0m[0m
[38;5;214mA fierce blizzard strikes without warning! Visibility drops to zero. All outdoor movement halted.[0m
[38;5;214mA fierce blizzard strikes without warning! Visibility drops to zero. All outdoor movement halted.[0m
[5m[38;5;214m[!] WARNING: Visibility severely reduced - Navigation hazardous[0m
[5m[38;5;214m[!] WARNING: Visibility severely reduced - Navigation hazardous[0m
[5m[38;5;214m[!] WARNING: Visibility severely reduced - Navigation hazardous[0m
[5m[38;5;214m[!] WARNING: Visibility severely reduced - Navigation hazardous[0m
Seeing Clark lose it makes you uneasy. (+2 Stress)

*** SYSTEM WARNING: MACREADY IS PANICKING! Effect: FLEES TO A RANDOM NEARBY ROOM ***
Seeing Childs lose it makes you uneasy. (+2 Stress)
Seeing Blair lose it makes you uneasy. (+2 Stress)
Seeing Garry lose it makes you uneasy. (+2 Stress)
Seeing Nauls lose it makes you uneasy. (+2 Stress)
Seeing Fuchs lose it makes you uneasy. (+2 Stress)
Seeing Windows lose it makes you uneasy. (+2 Stress)
Seeing Copper lose it makes you uneasy. (+2 Stress)
Seeing Bennings lose it makes you uneasy. (+2 Stress)
Seeing Clark lose it makes you uneasy. (+2 Stress)

*** SYSTEM WARNING: MACREADY IS PANICKING! Effect: SCREAMS, ALERTING ANYONE NEARBY ***
Seeing Nauls lose it makes you uneasy. (+2 Stress)
Seeing Bennings lose it makes you uneasy. (+2 Stress)
Seeing Clark lose it makes you uneasy. (+2 Stress)
Seeing Palmer lose it makes you uneasy. (+2 Stress)
Game saved to data/saves\autosave.json
Seeing Garry lose it makes you uneasy. (+2 Stress)
Seeing Nauls lose it makes you uneasy. (+2 Stress)
Seeing Fuchs lose it makes you uneasy. (+2 Stress)
Seeing Norris lose it makes you uneasy. (+2 Stress)
Seeing Bennings lose it makes you uneasy. (+2 Stress)
Seeing Clark lose it makes you uneasy. (+2 Stress)
Seeing Palmer lose it makes you uneasy. (+2 Stress)
Game saved to data/saves\autosave.json
Seeing Nauls lose it makes you uneasy. (+2 Stress)
Seeing Copper lose it makes you uneasy. (+2 Stress)
Seeing Norris lose it makes you uneasy. (+2 Stress)
Seeing Bennings lose it makes you uneasy. (+2 Stress)
Seeing Clark lose it makes you uneasy. (+2 Stress)
Seeing Palmer lose it makes you uneasy. (+2 Stress)
Game saved to data/saves\autosave.json
=========================== short test summary info ===========================
FAILED tests/test_rng_determinism.py::TestRNGDeterminism::test_end_to_end_determinism
============================== 1 failed in 7.74s ==============================
