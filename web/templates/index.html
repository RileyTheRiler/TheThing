<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Thing: Antarctic Research Station 31</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <div class="container">

        <!-- Start Screen -->
        <div id="start-screen" class="screen active">
            <div class="menu">
                <div class="logo-container">
                    <img src="{{ url_for('static', filename='images/logo.png') }}" alt="THE THING"
                        class="main-logo-img">
                    <div class="logo-subtitle">
                        *CRACKLE* ...anybody read me? Come in, anybody... *STATIC*<br>
                        (HUMAN LIFE NOT GUARANTEED)
                    </div>
                </div>

                <div class="menu-options">
                    <button class="menu-btn" onclick="showDifficultySelect()">[ BEGIN SIMULATION ]</button>
                    <button class="menu-btn" disabled>[ ACCESS RECORDS ]</button>
                    <button class="menu-btn" disabled>[ SYSTEM CONFIG ]</button>
                    <button class="menu-btn" disabled>[ TERMINATE ]</button>
                </div>
            </div>

            <div class="menu-footer">
                <div class="footer-alert">SYSTEM ALERT: BIOLOGICAL CONTAMINANT DETECTED IN SECTOR 4.</div>
                <div class="footer-status">TRUST STATUS: UNKNOWN. WATCHING: MACREADY, CHILDS, GARRY... [SCANNING]</div>
            </div>

            <!-- CRT Scanline Overlay -->
            <div class="monitor-overlay"></div>

            <!-- Difficulty Selection -->
            <div id="difficulty-select" class="difficulty-select hidden">
                <h3>SELECT DIFFICULTY</h3>
                <div class="difficulty-options">
                    <button class="difficulty-btn" onclick="startGame('EASY')">
                        <span class="diff-name">[ EASY ]</span>
                        <span class="diff-desc">More time, fewer Things</span>
                    </button>
                    <button class="difficulty-btn" onclick="startGame('NORMAL')">
                        <span class="diff-name">[ NORMAL ]</span>
                        <span class="diff-desc">Standard survival horror</span>
                    </button>
                    <button class="difficulty-btn" onclick="startGame('HARD')">
                        <span class="diff-name">[ HARD ]</span>
                        <span class="diff-desc">Paranoia intensifies</span>
                    </button>
                </div>
                <button class="back-btn" onclick="hideDifficultySelect()">[ BACK ]</button>
            </div>
        </div>

        <!-- Game Screen -->
        <div id="game-screen" class="screen">
            <!-- Header -->
            <div class="header">
                <h1 class="title">THE THING: ANTARCTIC RESEARCH STATION 31</h1>
                <div class="subtitle">U.S. OUTPOST 31 - TERMINAL ACCESS</div>
            </div>

            <!-- Game Status Bar -->
            <div class="status-bar">
                <div class="status-item" title="Current game turn - each action advances the turn counter">
                    <span class="label">TURN:</span>
                    <span id="turn-counter" class="value">0</span>
                </div>
                <div class="status-item" title="In-game time of day - affects crew schedules and visibility">
                    <span class="label">TIME:</span>
                    <span id="game-time" class="value">00:00</span>
                </div>
                <div class="status-item" title="Outside temperature - extreme cold is dangerous without proper gear">
                    <span class="label">TEMP:</span>
                    <span id="temperature" class="value">0.0°C</span>
                </div>
                <div class="status-item" title="Wind speed - high winds make outdoor travel hazardous">
                    <span class="label">WIND:</span>
                    <span id="wind-speed" class="value">0 mph</span>
                </div>
                <div class="status-item" title="Station power status - power outages affect lighting and equipment">
                    <span class="label">POWER:</span>
                    <span id="power-status" class="value">ON</span>
                </div>
                <div class="status-item" title="Generator fuel level - if fuel runs out, power fails">
                    <span class="label">FUEL:</span>
                    <span id="fuel-bar" class="fuel-bar">████████</span>
                </div>
                <div class="status-item" title="Your current location in the station">
                    <span class="label">LOCATION:</span>
                    <span id="location" class="value">Unknown</span>
                </div>
            </div>

            <!-- Main Game Area -->
            <div class="game-area">
                <!-- Left Panel: Map and Status -->
                <div class="left-panel">
                    <div class="map-container">
                        <h3>STATION MAP</h3>
                        <pre id="game-map" class="map-display">Loading...</pre>
                        <div id="map-legend" class="map-legend"></div>
                    </div>

                    <div class="room-info">
                        <h3>ROOM STATUS</h3>
                        <div id="room-description" class="info-text"></div>
                        <div id="room-flavor" class="room-flavor"></div>
                        <div id="room-icons" class="info-text"></div>
                    </div>

                    <div class="items-container">
                        <h3>VISIBLE ITEMS</h3>
                        <div id="room-items" class="items-list">None</div>
                    </div>
                </div>

                <!-- Right Panel: Output and Input -->
                <div class="right-panel">
                    <div class="output-container" id="output-container">
                        <div id="event-banner" class="event-banner hidden"></div>
                        <div id="game-output" class="output-text"></div>
                    </div>

                    <div class="command-container">
                        <div class="command-prompt">
                            <span class="prompt-symbol">CMD&gt;</span>
                            <div class="input-wrapper">
                                <input type="text" id="command-input" class="command-input"
                                    placeholder="Enter command..." autocomplete="off">
                                <span id="autocomplete-hint" class="autocomplete-hint"></span>
                            </div>
                        </div>
                        <div class="quick-commands" id="context-actions">
                            <!-- Context-aware actions will be dynamically inserted here -->
                            <button class="quick-btn" onclick="sendQuickCommand('STATUS')">STATUS</button>
                            <button class="quick-btn" onclick="sendQuickCommand('INV')">INVENTORY</button>
                            <button class="quick-btn" onclick="sendQuickCommand('HELP')">HELP</button>
                        </div>
                    </div>

                    <!-- Crew Status -->
                    <div class="crew-container">
                        <div class="crew-header">
                            <h3>CREW STATUS</h3>
                            <div class="crew-filters">
                                <button class="filter-btn active" data-filter="nearby" title="Show crew in your location">NEARBY</button>
                                <button class="filter-btn" data-filter="alive" title="Show all living crew">ALIVE</button>
                                <button class="filter-btn" data-filter="all" title="Show all crew including dead">ALL</button>
                            </div>
                        </div>
                        <div id="crew-status" class="crew-list"></div>
                    </div>

                    <!-- Player Inventory -->
                    <div class="inventory-container">
                        <h3>INVENTORY</h3>
                        <div id="player-inventory" class="inventory-list">Empty</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Game Over Screen -->
        <div id="gameover-screen" class="screen">
            <div class="gameover-content">
                <h2 id="gameover-title">GAME OVER</h2>
                <div id="gameover-message" class="gameover-message"></div>
                <button class="menu-btn" onclick="location.reload()">RETURN TO MENU</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/game.js') }}"></script>
</body>

</html>